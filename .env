# ============================================================================
# Production Environment Configuration
# ============================================================================
# This file contains production environment variables
# NEVER commit this file to version control!

# ============================================================================
# Database Configuration
# ============================================================================
# PostgreSQL Database - Production
# Database: buildflow_db
# User: postgres
# Password: Generated secure password
POSTGRES_PASSWORD=Pgg2alhpgym42Z9SRE/B1N68r6jnD7CbyYFnPlpiFTc=
# ✅ Strong password generated and set

# Database URLs (uses POSTGRES_PASSWORD variable)
DATABASE_URL=postgresql://postgres:${POSTGRES_PASSWORD}@localhost:5432/buildflow_db
VITE_DATABASE_URL=postgresql://postgres:${POSTGRES_PASSWORD}@localhost:5432/buildflow_db

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================================================
# API Configuration
# ============================================================================
# Production API URL - Using your domain
VITE_API_URL=http://dezignbuild.site:3000/api
# Alternative if domain not ready: http://72.61.243.152:3000/api
# After SSL setup: https://dezignbuild.site/api

# Frontend URL for production (used for CORS and redirects)
FRONTEND_URL=http://dezignbuild.site
# After SSL setup: https://dezignbuild.site

# ============================================================================
# CORS Configuration
# ============================================================================
# Allow dev and prod origins (includes your domain)
# Note: Include both with and without ports for flexibility
CORS_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:3000,http://localhost:8080,http://localhost:80,http://72.61.243.152,http://72.61.243.152:80,http://72.61.243.152:3000,http://dezignbuild.site,http://www.dezignbuild.site,https://dezignbuild.site,https://www.dezignbuild.site,http://72.61.243.152:5173

# ============================================================================
# Security & Authentication
# ============================================================================
# JWT Secret - Generate strong secret with: openssl rand -base64 32
# Or: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
VITE_JWT_SECRET=PATFW7KAsLGBLRNMmulL6BytOf+i7HX1QUvjycIeaRk
# ✅ Strong JWT secret generated and set

# ============================================================================
# File Storage
# ============================================================================
VITE_FILE_STORAGE_PATH=/var/lib/buildflow/storage
FILE_STORAGE_PATH=/var/lib/buildflow/storage

# ============================================================================
# Application Metadata
# ============================================================================
VITE_APP_NAME=Drena - Agency Management Platform
VITE_APP_VERSION=1.0.0
VITE_APP_ENVIRONMENT=production

# ============================================================================
# Port Configuration
# ============================================================================
# Frontend Ports
# Vite dev server port
VITE_DEV_PORT=5173
# Production frontend port (nginx)
FRONTEND_PORT=80

# Backend Ports
# Backend API server port
PORT=3000
# Alternative name for consistency
BACKEND_PORT=3000

# Database Ports
# PostgreSQL port
POSTGRES_PORT=5432
# Alternative name
DATABASE_PORT=5432

# Redis Ports
# Redis port
REDIS_PORT=6379

# SMTP Ports
# SMTP server port
SMTP_PORT=2525

# ============================================================================
# Feature Flags
# ============================================================================
VITE_ENABLE_AI_FEATURES=true
VITE_ENABLE_ANALYTICS=true
VITE_ENABLE_PROJECT_MANAGEMENT=true
VITE_ENABLE_FINANCIAL_MANAGEMENT=true
VITE_ENABLE_HR_MANAGEMENT=true
VITE_ENABLE_CRM=true

# ============================================================================
# Third-party Services (Optional)
# ============================================================================
VITE_STRIPE_PUBLISHABLE_KEY=
VITE_GOOGLE_MAPS_API_KEY=
VITE_ANALYTICS_TRACKING_ID=

# ============================================================================
# Email Service Configuration
# ============================================================================
# Using Mailtrap SMTP for email delivery (Sandbox for testing)
# For production, configure with your actual SMTP server
EMAIL_PROVIDER=smtp

# Mailtrap SMTP Configuration (Sandbox - for testing)
# These credentials are for Mailtrap Sandbox - emails will be captured, not sent
# To get production credentials: Go to Sending Domains > Integration > SMTP
SMTP_HOST=sandbox.smtp.mailtrap.io
SMTP_PORT=2525
SMTP_USER=380a544500fcdc
SMTP_PASSWORD=8ffde4882f8999
SMTP_FROM=burhan@easyio.tech

# Alternative: Mailtrap API Configuration (Official SDK)
# EMAIL_PROVIDER=mailtrap
# MAILTRAP_API_TOKEN=f912575e971d78797dd594089af35412
# MAILTRAP_FROM=burhan@easyio.tech
# MAILTRAP_USE_SANDBOX=false
# MAILTRAP_BULK=false

# Alternative: Postmark Configuration
# EMAIL_PROVIDER=postmark
# POSTMARK_API_TOKEN=5fd041ae-94a8-4ba6-8e03-80ea696ba1b9
# POSTMARK_FROM=noreply@buildflow.com

# ============================================================================
# Production Security Checklist
# ============================================================================
# ⚠️ BEFORE GOING TO PRODUCTION, YOU MUST:
# 
# 1. Generate strong POSTGRES_PASSWORD:
#    openssl rand -base64 32
#    Then update POSTGRES_PASSWORD above
#
# 2. Generate strong VITE_JWT_SECRET:
#    openssl rand -base64 32
#    Or: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
#    Then update VITE_JWT_SECRET above
#
# 3. Verify VITE_API_URL matches your domain:
#    Current: http://dezignbuild.site:3000/api
#    After SSL: https://dezignbuild.site/api
#
# 4. Update email configuration for production SMTP
#
# 5. Ensure .env is in .gitignore (never commit secrets!)
#
# ============================================================================
